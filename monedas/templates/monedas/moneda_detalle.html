{% extends "base.html" %}
{% block title %}Detalle de Moneda â€” Global Exchange{% endblock %}

{% block content %}
<main class="max-w-6xl mx-auto px-6 py-10">

  <!-- TÃ­tulo + Volver -->
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-4xl font-extrabold flex items-center gap-3">
      <span id="flagEmoji" data-code="{{ moneda.codigo|upper }}">ğŸ’±</span>
      {{ moneda.nombre }}
      <span class="text-[var(--muted)] text-2xl font-semibold">({{ moneda.codigo }})</span>
    </h1>

    <a href="{% url 'monedas:listar_monedas' %}"
       class="inline-flex items-center gap-2 px-4 py-2 rounded-lg font-semibold bg-[var(--brand-soft)] text-[var(--brand-dark)] hover:brightness-95">
      â¬… Volver
    </a>
  </div>

  <!-- Tarjetas principales -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- InformaciÃ³n de la moneda -->
    <section class="rounded-xl border shadow-sm overflow-hidden" style="border-color:var(--line)">
      <div class="bg-[var(--brand)] text-white px-5 py-3 text-lg font-bold">
        ğŸª™ InformaciÃ³n de la Moneda
      </div>
      <div class="p-5 divide-y" style="--tw-divide-opacity:1; divide-color:var(--line)">
        <div class="py-3 flex justify-between">
          <span class="font-semibold text-[var(--muted)]">CÃ³digo:</span>
          <span class="font-medium">{{ moneda.codigo }}</span>
        </div>
        <div class="py-3 flex justify-between">
          <span class="font-semibold text-[var(--muted)]">Nombre:</span>
          <span class="font-medium">{{ moneda.nombre }}</span>
        </div>
        <div class="py-3 flex justify-between">
          <span class="font-semibold text-[var(--muted)]">SÃ­mbolo:</span>
          <span class="font-medium">{{ moneda.simbolo }}</span>
        </div>
        <div class="py-3 flex justify-between">
          <span class="font-semibold text-[var(--muted)]">Decimales:</span>
          <span class="font-medium">{{ moneda.decimales }}</span>
        </div>
        <div class="py-3 flex justify-between">
          <span class="font-semibold text-[var(--muted)]">MÃ­nima denominaciÃ³n:</span>
          <span class="font-medium">{{ moneda.minima_denominacion }}</span>
        </div>
      </div>
    </section>

    <!-- Operatividad y trazabilidad (solo fecha de creaciÃ³n) -->
    <section class="rounded-xl border shadow-sm overflow-hidden" style="border-color:var(--line)">
      <div class="bg-[var(--brand)] text-white px-5 py-3 text-lg font-bold">
        ğŸ“ˆ Operatividad y Trazabilidad
      </div>
      <div class="p-5 divide-y" style="--tw-divide-opacity:1; divide-color:var(--line)">
        <div class="py-3 flex justify-between">
          <span class="font-semibold text-[var(--muted)]">Fecha de creaciÃ³n:</span>
          <span class="font-medium">
            {{ moneda.fecha_creacion|date:"j \\d\\e F \\d\\e Y \\a \\l\\a\\s H:i" }}
          </span>
        </div>
      </div>
    </section>
  </div>

  <!-- Notas / InformaciÃ³n adicional -->
  <section class="mt-6 rounded-xl border shadow-sm overflow-hidden" style="border-color:var(--line)">
    <div class="bg-[var(--brand)] text-white px-5 py-3 text-lg font-bold">
      ğŸ“„ InformaciÃ³n adicional
    </div>
    <div class="p-5 space-y-3">
      <div class="p-3 rounded-md bg-blue-50 text-blue-800">
        Esta moneda utiliza <strong>{{ moneda.decimales }}</strong> decimales al mostrar valores.
      </div>
      <div class="p-3 rounded-md bg-yellow-50 text-yellow-800">
        La mÃ­nima denominaciÃ³n es <strong>{{ moneda.minima_denominacion }}</strong>.
        Los montos por debajo de este valor no son vÃ¡lidos.
      </div>
    </div>
  </section>

</main>

<!-- Bandera segÃºn cÃ³digo -->
<script>
  (function(){
    const MAP = {
      USD:"ğŸ‡ºğŸ‡¸", EUR:"ğŸ‡ªğŸ‡º", ARS:"ğŸ‡¦ğŸ‡·", BRL:"ğŸ‡§ğŸ‡·", CLP:"ğŸ‡¨ğŸ‡±", COP:"ğŸ‡¨ğŸ‡´",
      MXN:"ğŸ‡²ğŸ‡½", PEN:"ğŸ‡µğŸ‡ª", PYG:"ğŸ‡µğŸ‡¾", UYU:"ğŸ‡ºğŸ‡¾", GBP:"ğŸ‡¬ğŸ‡§", JPY:"ğŸ‡¯ğŸ‡µ",
      CNY:"ğŸ‡¨ğŸ‡³", AUD:"ğŸ‡¦ğŸ‡º", CAD:"ğŸ‡¨ğŸ‡¦", CHF:"ğŸ‡¨ğŸ‡­"
    };
    const el = document.getElementById('flagEmoji');
    if(el){
      const code = String(el.dataset.code || '').toUpperCase();
      el.textContent = MAP[code] || "ğŸ’±";
    }
  })();
</script>
{% endblock %}
