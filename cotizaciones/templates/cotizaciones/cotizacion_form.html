{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>{% if form.instance.pk %}Editar Cotización{% else %}Agregar Cotización{% endif %} — Global Exchange</title>
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <style>
    /* Estilo simple para mensajes */
    .messages {
      list-style: none;
      padding: 0;
      margin-bottom: 1rem;
    }
    .messages li {
      padding: 10px 15px;
      border-radius: 4px;
      margin-bottom: 0.5rem;
      color: #fff;
    }
    .messages li.success { background-color: #4CAF50; }
    .messages li.error { background-color: #f44336; }
    .messages li.warning { background-color: #ff9800; }
    .messages li.info { background-color: #2196F3; }
  </style>
</head>
<body>

  <main class="container container--tight">
    <h1 class="h1 h1--sm">
      {% if form.instance.pk %}
        Editar Cotización <span class="subtitle">— PYG a {{ form.instance.moneda_destino.simbolo }}</span>
      {% else %}
        Agregar Nueva Cotización
      {% endif %}
    </h1>

    {# ------------------ Mensajes de Django ------------------ #}
            {% if messages %}
        <ul class="messages">
        {% for message in messages %}
        <li class="{{ message.tags }}">{{ message }}</li>
        {% endfor %}
        </ul>
        {% endif %}



    <section class="box box--tight" style="max-width: 720px; margin: 0 auto;">
      <form method="post" class="form form--compact">
        {% csrf_token %}

        {% if form.non_field_errors %}
          <div class="form-alert">{{ form.non_field_errors }}</div>
        {% endif %}

        {# Solo mostramos moneda_destino, valor_compra y valor_venta #}
        {{ form.as_p }}

        <div class="actions">
          <button type="submit" class="btn">Guardar</button>
          <a href="{% url 'cotizaciones:cotizacion_list' %}" class="btn-secondary">Cancelar</a>
        </div>
      </form>
    </section>
  </main>

</body>
</html>

