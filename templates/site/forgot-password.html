{% extends "base.html" %}
{% block header_auth %}{% endblock %}
{% block content %}
<section class="container py-10">
  <h1 class="h1">Recuperar contraseña</h1>

  <div class="grid md:grid-cols-2 gap-6">
    <form method="post" class="box form">
      {% csrf_token %}
      {% if messages %}
        <div class="form-alert" role="alert">
          {% for message in messages %}{{ message }}{% if not forloop.last %}<br>{% endif %}{% endfor %}
        </div>
      {% endif %}

      {% if form %}
        {{ form.non_field_errors }}
        <p>
          {{ form.email.label_tag }}
          {{ form.email }}
          {% for e in form.email.errors %}<span class="text-red-600 text-sm">{{ e }}</span>{% endfor %}
        </p>
      {% else %}
        <p>
          <label for="id_email">Email</label>
          <input id="id_email" type="email" name="email" required placeholder="tu@correo.com">
        </p>
      {% endif %}

      <div class="actions">
        <button class="btn w-full" type="submit">Enviar enlace</button>
        <a class="btn-ghost" href="{% url 'login' %}">Volver a iniciar sesión</a>
      </div>
    </form>

    <aside class="box">
      <h2 class="h2">¿Cómo funciona?</h2>
      <p class="muted">Te enviaremos un enlace para restablecer tu contraseña. Es de un solo uso y expira a los minutos.</p>
    </aside>
  </div>
</section>
{% endblock %}
