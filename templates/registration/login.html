{% extends "base.html" %}
{% block title %}Iniciar sesión — Global Exchange{% endblock %}

{% block content %}
<main id="main" class="max-w-[800px] mx-auto px-6 py-10">
  <h1 class="h1 mb-6">Iniciar sesión</h1>

  {% if messages %}
    <div class="space-y-2 mb-4">
      {% for message in messages %}
        <div class="rounded-xl border border-purple-200 bg-purple-50 px-4 py-3 font-semibold text-purple-800 shadow-sm">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <style>
    .api-login *{box-sizing:border-box}
    .api-login label{display:block;margin:.5rem 0 .25rem;font-weight:600}
    .api-login input{width:100%;padding:.7rem;border:1px solid #d1d5db;border-radius:.5rem}
    .api-login button{padding:.75rem 1rem;border-radius:.9rem;background:var(--brand);color:#fff;border:0;cursor:pointer;font-weight:800}
    .api-login .box{border:1px solid #e5e7eb;border-radius:.9rem;padding:1rem;margin-top:1rem;background:#fff}
  </style>

  <div class="api-login">
    <form class="box" method="post" action="{% url 'login' %}">
      {% csrf_token %}
      <input type="hidden" name="next" value="{{ request.GET.next|default_if_none:'' }}"/>

      <label for="id_username">Correo electrónico</label>
      <input type="email" id="id_username" name="username" required autocomplete="email" autofocus>

      <label for="id_password" class="mt-3">Contraseña</label>
      <input type="password" id="id_password" name="password" required autocomplete="current-password">

      <div class="mt-3 flex items-center justify-between">
        <a href="{% url 'password_reset' %}" class="text-brand hover:underline">¿Olvidaste tu contraseña?</a>
      </div>

      <button type="submit" class="mt-4 w-full">Ingresar</button>

      <a class="btn-secondary mt-3 w-full inline-flex justify-center" href="{% url 'usuarios:register' %}">
        Crear cuenta
      </a>
    </form>
  </div>
</main>
{% endblock %}
