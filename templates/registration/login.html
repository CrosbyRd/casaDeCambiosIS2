{% extends "base.html" %}
{% block header_auth %}{% endblock %}

{% block content %}
<section class="max-w-[1200px] mx-auto px-6 py-10">

  <h1 class="h1 mb-6">Iniciar sesi贸n</h1>

  <div class="grid md:grid-cols-2 gap-10 items-start">
    <!-- Columna izquierda: formulario -->
    <section>
      {% if messages %}
        <div class="space-y-2 mb-4">
          {% for message in messages %}
            <div class="rounded-xl border border-purple-200 bg-purple-50 px-4 py-3 font-semibold text-purple-800 shadow-sm">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}

      <style>
        .api-login *{box-sizing:border-box}
        .api-login label{display:block;margin:.5rem 0 .25rem;font-weight:600}
        .api-login input{width:100%;padding:.7rem;border:1px solid #d1d5db;border-radius:.5rem}
        .api-login button{padding:.75rem 1rem;border-radius:.9rem;background:var(--brand);color:#fff;border:0;cursor:pointer;font-weight:800}
        .api-login .box{border:1px solid #e5e7eb;border-radius:.9rem;padding:1rem;margin-top:0;background:#fff}
      </style>

      <div class="api-login">
        <form class="box" method="post" action="{% url 'login' %}">
          {% csrf_token %}
          <input type="hidden" name="next" value="{{ request.GET.next|default_if_none:'' }}"/>

          <label for="id_username">Correo electr贸nico</label>
          <input type="email" id="id_username" name="username" required autocomplete="email" autofocus>

          <label for="id_password" class="mt-3">Contrase帽a</label>
          <input type="password" id="id_password" name="password" required autocomplete="current-password">

          <div class="mt-3 flex items-center justify-between">
            <a href="{% url 'site_forgot_password' %}" class="text-brand hover:underline">驴Olvidaste tu contrase帽a?</a>
          </div>

          <button type="submit" class="mt-4 w-full">Ingresar</button>

          <a class="btn-secondary mt-3 w-full inline-flex justify-center" href="{% url 'site_signup' %}">
            Crear cuenta
          </a>
        </form>
      </div>
    </section>

    <!-- Columna derecha: info seguridad OTP -->
    <aside class="rounded-2xl border border-neutral-200 p-6 bg-white self-start">
      <h2 class="text-3xl font-extrabold tracking-tight mb-3">Protecci贸n por OTP</h2>
      <p class="text-neutral-700">
        Para mantener tu cuenta segura, al iniciar sesi贸n te pediremos un
        <strong>c贸digo de un solo uso (OTP)</strong> que enviaremos a tu correo.
      </p>

      <ul class="mt-4 space-y-2 text-neutral-700">
        <li class="flex gap-3">
          <span class="select-none"></span>
          C贸digo de <strong>6 d铆gitos</strong> v谩lido por tiempo limitado.
        </li>
        <li class="flex gap-3">
          <span class="select-none">锔</span>
          Lo recibir谩s en el email asociado a tu cuenta.
        </li>
        <li class="flex gap-3">
          <span class="select-none"></span>
          No compartas tu c贸digo con nadie.
        </li>
      </ul>

      <div class="mt-6 rounded-xl border border-purple-200 bg-purple-50 px-4 py-3 text-purple-800">
        Si no te llega el c贸digo, revisa tu carpeta de spam  o solicita reenviar desde la pantalla de verificaci贸n.
      </div>
    </aside>
  </div>
</section>
{% endblock %}
