{% extends "base.html" %}
{% block title %}Mis medios de acreditación{% endblock %}

{% block content %}
<main class="max-w-4xl mx-auto px-6 py-10">

  <header class="flex items-center justify-between mb-6">
    <h1 class="text-3xl font-extrabold text-[var(--ink)]">Mis medios de acreditación</h1>
    <a href="{% url 'medios_acreditacion:clientes_create' %}"
       class="px-4 py-2 rounded-lg font-semibold text-white shadow-sm"
       style="background:var(--brand)">
      Agregar medio
    </a>
  </header>

  {% if messages %}
    <div class="mb-4">
      {% for message in messages %}
        <div class="p-3 mb-2 rounded-lg bg-blue-50 text-blue-800 border border-blue-200">{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}

  <section class="bg-white border rounded-xl shadow-sm" style="border-color:var(--line)">
    <table class="w-full border-collapse">
      <thead class="bg-[var(--brand)] text-white">
        <tr>
          <th class="px-4 py-2 text-left">Tipo</th>
          <th class="px-4 py-2 text-left">Alias</th>
          <th class="px-4 py-2 text-left">Estado</th>
          <th class="px-4 py-2 text-right">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for m in medios %}
          <tr class="border-b last:border-0" style="border-color:var(--line)">
            <td class="px-4 py-3">{{ m.tipo.nombre }}</td>
            <td class="px-4 py-3">{{ m.alias|default:"(sin alias)" }}</td>
            <td class="px-4 py-3">
              <span class="px-2 py-1 rounded text-sm
                {% if m.activo %} bg-green-100 text-green-800 border border-green-200
                {% else %} bg-yellow-100 text-yellow-800 border border-yellow-200 {% endif %}">
                {{ m.activo|yesno:"Activo,Inactivo" }}
              </span>
            </td>
            <td class="px-4 py-3 text-right space-x-2">
              <a href="{% url 'medios_acreditacion:clientes_update' m.pk %}"
                 class="px-3 py-1 rounded-lg text-white bg-[var(--brand)] hover:brightness-95">Editar</a>
              <form action="{% url 'medios_acreditacion:clientes_delete' m.pk %}" method="post" class="inline">
                {% csrf_token %}
                <button type="submit"
                        class="px-3 py-1 rounded-lg text-white bg-red-600 hover:bg-red-700"
                        onclick="return confirm('¿Eliminar este medio?')">
                  Eliminar
                </button>
              </form>
            </td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="4" class="px-4 py-6 text-center text-[var(--muted)]">Aún no cargaste medios.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>

</main>
{% endblock %}
