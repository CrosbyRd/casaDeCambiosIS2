{% extends "base.html" %}
{% block title %}{{ accion }} Tipo de Medio de Acreditación{% endblock %}
{% block content %}
<main class="max-w-5xl mx-auto px-6 py-10">
  <h1 class="text-4xl font-extrabold mb-2 text-[var(--ink)]">+ {{ accion }} Tipo de Medio de Acreditación</h1>
  <p class="text-lg text-[var(--muted)] mb-4">Completa la información para registrar o actualizar un tipo.</p>

  <section class="bg-white border rounded-xl shadow-sm overflow-hidden" style="border-color:var(--line)">
    <form method="post" class="slab">
      {% csrf_token %}
      <style>
        .slab input, .slab select { width:100%; border:1.5px solid var(--line); border-radius:12px; padding:12px 14px; height:48px; }
        .help { font-size:.9rem; color:var(--muted); margin-top:.35rem }
        .err { color:#991b1b; background:#fee2e2; border:1px solid #fecaca; padding:.5rem .75rem; border-radius:.5rem; margin-top:.4rem }
      </style>

      <div class="overflow-x-auto">
        <table class="w-full border-collapse">
          <thead class="bg-[var(--brand)] text-white"><tr><th class="px-4 py-3 text-left">Nombre</th></tr></thead>
          <tbody><tr><td class="px-4 py-4">
            {{ form.nombre.label_tag }} {{ form.nombre }}
            <div class="help">Selecciona el tipo de medio de acreditación.</div>
            {% if form.nombre.errors %}<div class="err">{{ form.nombre.errors|join:", " }}</div>{% endif %}
          </td></tr></tbody>
        </table>
      </div>

      <div class="overflow-x-auto mt-4">
        <table class="w-full border-collapse">
          <thead class="bg-[var(--brand)] text-white"><tr>
            <th class="px-4 py-3 text-left">Comisión porcentaje (%)</th>
            <th class="px-4 py-3 text-left">Bonificación porcentaje (%)</th>
          </tr></thead>
          <tbody><tr>
            <td class="px-4 py-4">
              {{ form.comision_porcentaje }}
              <div class="help">0–100</div>
              {% if form.comision_porcentaje.errors %}<div class="err">{{ form.comision_porcentaje.errors|join:", " }}</div>{% endif %}
            </td>
            <td class="px-4 py-4">
              {{ form.bonificacion_porcentaje }}
              <div class="help">0–100</div>
              {% if form.bonificacion_porcentaje.errors %}<div class="err">{{ form.bonificacion_porcentaje.errors|join:", " }}</div>{% endif %}
            </td>
          </tr></tbody>
        </table>
      </div>

      <div class="overflow-x-auto mt-4">
        <table class="w-full border-collapse">
          <thead class="bg-[var(--brand)] text-white"><tr><th class="px-4 py-3 text-left">Estado</th></tr></thead>
          <tbody><tr><td class="px-4 py-4">
            <label class="flex items-center gap-3">
              {{ form.activo }} <span class="font-semibold text-[var(--ink)]">Activo</span>
            </label>
          </td></tr></tbody>
        </table>
      </div>

      <div class="flex justify-end gap-3 p-4">
        <a href="{% url 'medios_acreditacion:listar_tipos_medio_acreditacion' %}" class="px-5 py-2 rounded-lg text-white" style="background:#dc2626">Cancelar</a>
        <button class="px-6 py-2 rounded-lg font-bold text-white" style="background:var(--brand)">{{ accion }}</button>
      </div>
    </form>
  </section>
</main>
{% endblock %}
