{% extends "base.html" %}
{% block title %}Tipos de Medio de Acreditaci√≥n{% endblock %}
{% block content %}
<main class="max-w-6xl mx-auto px-6 py-10">
  <header class="flex items-center justify-between mb-8">
    <div>
      <h1 class="text-4xl font-extrabold mb-2 text-[var(--ink)]">üèß Tipos de Medio de Acreditaci√≥n</h1>
      <p class="text-lg text-[var(--muted)]">Aqu√≠ puedes gestionar los tipos habilitados en el sistema.</p>
    </div>
    <div class="flex gap-3">
      <a href="{% url 'admin_panel:dashboard' %}" class="px-4 py-2 rounded-lg font-bold bg-[var(--brand-soft)] text-[var(--brand-dark)]">‚¨Ö Volver al Panel</a>
      <a href="{% url 'medios_acreditacion:agregar_tipo_medio_acreditacion' %}" class="px-4 py-2 rounded-lg font-bold text-white" style="background:var(--brand)">‚ûï Agregar Tipo</a>
    </div>
  </header>

  <section class="bg-white border rounded-xl shadow-sm overflow-hidden" style="border-color:var(--line)">
    <table class="w-full">
      <thead class="bg-[var(--brand)] text-white">
        <tr>
          <th class="px-4 py-3 text-left">Nombre</th>
          <th class="px-4 py-3 text-left">Estado</th>
          <th class="px-4 py-3 text-left">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for t in tipos %}
          <tr class="hover:bg-[var(--brand-soft)]">
            <td class="px-4 py-3">{{ t.get_nombre_display }}</td>
            <td class="px-4 py-3">
              {% if t.activo %}
                <span class="px-2 py-1 rounded-md text-green-700 bg-green-100 font-semibold">Activo</span>
              {% else %}
                <span class="px-2 py-1 rounded-md text-red-700 bg-red-100 font-semibold">Inactivo</span>
              {% endif %}
            </td>
            <td class="px-4 py-3">
              <div class="flex flex-wrap gap-2">
                <a href="{% url 'medios_acreditacion:ver_tipo_medio_acreditacion' t.id %}" class="px-3 py-1 rounded-md bg-white border" style="border-color:var(--line)">Ver</a>
                <a href="{% url 'medios_acreditacion:editar_tipo_medio_acreditacion' t.id %}" class="px-3 py-1 rounded-md bg-[var(--brand-soft)] text-[var(--brand-dark)]">Editar</a>

                <form method="post" action="{% url 'medios_acreditacion:toggle_activo' t.id %}">
                  {% csrf_token %}
                  {% if t.activo %}
                    <button class="px-3 py-1 rounded-md text-white" style="background:#f59e0b">Desactivar</button>
                  {% else %}
                    <button class="px-3 py-1 rounded-md text-white" style="background:#16a34a">Activar</button>
                  {% endif %}
                </form>

                <a href="{% url 'medios_acreditacion:eliminar_tipo_medio_acreditacion' t.id %}" class="px-3 py-1 rounded-md text-white" style="background:#dc2626">Eliminar</a>
              </div>
            </td>
          </tr>
        {% empty %}
          <tr><td colspan="3" class="px-4 py-6 text-center text-[var(--muted)]">No hay tipos registrados.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </section>
</main>
{% endblock %}
