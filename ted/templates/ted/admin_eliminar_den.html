{% extends "base.html" %}
{% block title %}Global Exchange{% endblock %}

{% block content %}
<main class="max-w-5xl mx-auto px-6 py-10">
  <!-- Encabezado -->
  <header class="mb-8">
    <h1 class="text-4xl font-extrabold text-red-600 flex items-center gap-2">
      ğŸ—‘ï¸ Eliminar denominaciÃ³n
    </h1>
    <p class="text-lg text-[var(--muted)] mt-2">
      Esta acciÃ³n no se puede deshacer. RevisÃ¡ la informaciÃ³n antes de continuar.
    </p>
  </header>

  <!-- Tarjeta de confirmaciÃ³n -->
  <section class="bg-white border rounded-xl shadow-sm p-8" style="border-color:var(--line)">
    <form method="post">
      {% csrf_token %}
      <input type="hidden" name="ubicacion" value="{{ ubicacion }}">

      <p class="text-lg">
        Â¿ConfirmÃ¡s que querÃ©s eliminar la denominaciÃ³n
        <span class="font-semibold">
          {{ den.moneda.codigo }} {{ den.valor }}
        </span>
        {% if ubicacion %} en la ubicaciÃ³n <span class="font-semibold">{{ ubicacion }}</span>{% endif %}?
      </p>

      {% if inv and inv.cantidad is not None %}
      <div class="mt-4 bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded-lg flex items-start gap-3">
        <span class="text-xl">âš ï¸</span>
        <span>
          El stock actual en esta ubicaciÃ³n es <strong>{{ inv.cantidad }}</strong>. Al eliminar la denominaciÃ³n,
          el inventario se ajustarÃ¡ a <strong>0</strong> y se registrarÃ¡ el movimiento correspondiente.
        </span>
      </div>
      {% else %}
      <div class="mt-4 bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded-lg flex items-start gap-3">
        <span class="text-xl">âš ï¸</span>
        <span>
          Se eliminarÃ¡ la denominaciÃ³n para la ubicaciÃ³n seleccionada de forma permanente.
        </span>
      </div>
      {% endif %}

      <!-- Acciones -->
      <div class="flex flex-col sm:flex-row justify-center gap-4 mt-6">
        <button type="submit"
                class="px-5 py-2 rounded-lg font-semibold text-white bg-red-600 hover:bg-red-700 flex items-center gap-2">
          ğŸ—‘ï¸ <span>SÃ­, eliminar</span>
        </button>

        <a href="{% url 'admin_panel:ted:inventario' %}{% if ubicacion %}?ubicacion={{ ubicacion|urlencode }}{% endif %}"
           class="px-5 py-2 rounded-lg font-semibold text-white flex items-center gap-2"
           style="background:var(--brand)">
          âœ– <span>Cancelar</span>
        </a>
      </div>
    </form>
  </section>
</main>
{% endblock %}
