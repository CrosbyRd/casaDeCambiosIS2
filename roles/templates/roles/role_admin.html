{% extends "base.html" %}
{% block content %}
<section class="max-w-[1200px] mx-auto px-6 py-10">
  <div class="mb-6">
    <a href="{% url 'admin_panel:dashboard' %}" class="btn-secondary">← Volver al Panel de Administrador</a>
  </div>

  {% if messages %}
    <div class="space-y-2 mb-6">
      {% for message in messages %}
        <div class="rounded-xl border border-purple-200 bg-purple-50 px-4 py-3 font-semibold text-purple-800 shadow-sm">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  <div class="bg-white border border-neutral-200 rounded-xl shadow-sm overflow-hidden">
    <div class="px-6 py-4 border-b border-neutral-200">
      <h1 class="h1 h1--sm">Roles existentes</h1>
    </div>
    <div class="overflow-x-auto">
      <table class="min-w-full">
        <thead class="bg-neutral-50">
          <tr>
            <th class="text-left py-3 px-6">ID</th>
            <th class="text-left py-3 px-6">Nombre</th>
            <th class="text-left py-3 px-6">Descripción</th>
            <th class="text-left py-3 px-6">Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for rol in roles %}
          <tr class="border-t border-neutral-200">
            <td class="py-3 px-6">{{ rol.id }}</td>
            <td class="py-3 px-6 font-semibold">{{ rol.nombre }}</td>
            <td class="py-3 px-6">{{ rol.descripcion }}</td>
            <td class="py-3 px-6">
              <form action="{% url 'roles:role-delete' rol.pk %}" method="post" onsubmit="return confirm('¿Estás seguro de eliminar este rol?');" class="inline">
                {% csrf_token %}
                <button type="submit" class="btn-ghost">Eliminar</button>
              </form>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4" class="py-6 px-6 text-neutral-500">No hay roles registrados.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</section>
{% endblock %}
