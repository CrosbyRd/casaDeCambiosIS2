{% extends "base.html" %}
{% block title %}Global Exchange{% endblock %}

{% block content %}
<main class="max-w-4xl mx-auto px-6 py-10">

  <!-- Encabezado -->
  <header class="flex items-center justify-between mb-8">
    <div>
      <h1 class="text-4xl font-extrabold mb-2" style="color:var(--ink)">üë§ Crear Cliente</h1>
      <p class="text-lg leading-relaxed max-w-xl" style="color:var(--muted)">
        Completa la informaci√≥n para registrar un nuevo cliente en el sistema.
      </p>
    </div>
    <a href="{% url 'clientes:lista' %}" 
       class="px-4 py-2 rounded-lg font-bold bg-[var(--brand-soft)] hover:brightness-95"
       style="color:var(--brand-dark)">‚¨Ö Volver a Clientes</a>
  </header>

  <!-- Formulario como tabla -->
  <section class="bg-white border rounded-xl shadow-sm overflow-hidden" style="border-color:var(--line)">
    <form method="post" id="form-cliente">
      {% csrf_token %}
      <div class="overflow-x-auto">
        <table class="w-full border-collapse min-w-[640px]">
          <thead style="background:var(--brand); color:white">
            <tr>
              <th class="px-6 py-3 text-left">Nombre Completo *</th>
              <th class="px-6 py-3 text-left">Categor√≠a *</th>
            </tr>
          </thead>
          <tbody>
            <tr class="hover:bg-[var(--brand-soft)]">
              <td class="px-6 py-4">
                <input type="text" name="nombre" id="id_nombre"
                       placeholder="Ej: Juan P√©rez o Empresa XYZ"
                       class="w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-[var(--ink)] placeholder-gray-400
                              focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-[var(--brand)] transition"/>
              </td>
              <td class="px-6 py-4">
                <select name="categoria" id="id_categoria"
                        class="w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-[var(--ink)]
                               focus:outline-none focus:ring-2 focus:ring-[var(--brand)] focus:border-[var(--brand)] transition">
                  <option value="minorista">Minorista</option>
                  <option value="corporativo">Corporativo</option>
                  <option value="vip">VIP</option>
                </select>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Estado -->
      <div class="px-6 py-4">
        <input type="hidden" name="activo" id="id_activo" value="true">
        <button type="button" id="toggle-estado"
                class="px-4 py-2 rounded-lg font-bold text-white bg-green-600 hover:bg-green-700">
          ‚úÖ ACTIVO
        </button>
      </div>
    </form>
  </section>

  <!-- Botones debajo del formulario -->
  <div class="flex justify-end gap-3 pt-6">
    <a href="{% url 'clientes:lista' %}" 
       class="px-4 py-2 rounded-lg font-semibold text-white bg-gray-500 hover:bg-gray-600">
      Cancelar
    </a>
    <button type="submit" form="form-cliente"
            class="px-6 py-2 rounded-lg font-bold text-white shadow-sm"
            style="background:var(--brand)">
      ‚ûï Crear Cliente
    </button>
  </div>
</main>

<script>
  const toggleBtn = document.getElementById("toggle-estado");
  const inputActivo = document.getElementById("id_activo");

  toggleBtn.addEventListener("click", () => {
    if (inputActivo.value === "true") {
      inputActivo.value = "false";
      toggleBtn.textContent = "‚ùå INACTIVO";
      toggleBtn.classList.remove("bg-green-600", "hover:bg-green-700");
      toggleBtn.classList.add("bg-red-600", "hover:bg-red-700");
    } else {
      inputActivo.value = "true";
      toggleBtn.textContent = "‚úÖ ACTIVO";
      toggleBtn.classList.remove("bg-red-600", "hover:bg-red-700");
      toggleBtn.classList.add("bg-green-600", "hover:bg-green-700");
    }
  });
</script>
{% endblock %}
